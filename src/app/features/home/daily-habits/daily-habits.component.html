<div class="daily-habits p-pb-5">
  <h2 class="section-title">Hábitos de Hoy</h2>

  <div *ngFor="let category of ['diario', 'semanal', 'mensual', 'ocasional']" class="category-block">
    <h3 *ngIf="groupedHabits[category]?.length" class="category-title">
      <span class="emoji">
        {{ category === 'diario' ? '📅' : category === 'semanal' ? '🗓️' : category === 'mensual' ? '📆' : '🎯' }}
      </span>
      {{ category | titlecase }}
    </h3>

    <div class="habits-grid" *ngIf="groupedHabits[category]?.length">
      <ng-container *ngFor="let habit of groupedHabits[category]">
        <app-habit-card *ngIf="!(habit.tipo === 'bueno' && getProgressValue(habit) >= habit.objetivo)" [habit]="habit"
          [logs]="logs" (quickLog)="handleQuickLog($event)" (retroLog)="handleRetroLog($event)">
        </app-habit-card>
      </ng-container>
    </div>
  </div>

  <div *ngIf="completedGoodHabits.length" class="completed-section">
    <h3 class="completed-title">✅ Hábitos Completados</h3>
    <div class="habits-grid">
      <ng-container *ngFor="let habit of completedGoodHabits">
        <app-completed-habit-card [habit]="habit" [logs]="logs" (quickLog)="handleQuickLog($event)"
          (retroLog)="handleRetroLog($event)">
        </app-completed-habit-card>
      </ng-container>
    </div>
  </div>
</div>