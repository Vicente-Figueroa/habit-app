<p-card class="habit-card completed-card p-shadow-2">
    <ng-template pTemplate="title">
        <div class="p-d-flex p-ai-center p-gap-2">
            <i class="pi pi-check-circle" style="color: #4caf50;"></i>
            <span class="text-lg font-semibold" style="color: #4caf50;">{{ habit.nombre }}</span>
        </div>
    </ng-template>

    <div class="habit-desc p-mb-2" *ngIf="habit.descripcion">
        {{ habit.descripcion }}
    </div>

    <div class="habit-meta p-d-flex p-ai-center p-gap-2 p-mb-1">
        <i class="pi pi-bullseye"></i>
        <span><strong>Meta alcanzada:</strong> {{ habit.objetivo }} {{ habit.unidadObjetivo }}</span>
    </div>

    <div class="habit-progress p-d-flex p-ai-center p-gap-2 p-mb-2">
        <i class="pi pi-chart-line" style="color: #4caf50;"></i>
        <span>Progreso: <strong style="color: #4caf50;">{{ progress }}</strong> / {{ habit.objetivo }}</span>
    </div>

    <div class="habit-actions p-d-flex p-flex-column p-gap-2 p-mt-3">
        <button pButton type="button" icon="pi pi-plus-circle" label="Añadir Más Registro"
            class="p-button-sm p-button-success" (click)="quickLog.emit(habit)">
        </button>

        <app-weekly-status-bar [habit]="habit" [logs]="logs" (selectDate)="handleRetroLog($event)">
        </app-weekly-status-bar>
    </div>
</p-card>